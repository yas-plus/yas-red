webpackJsonp([3],{"2KAF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),s=a.n(n),i=a("exGp"),o=a.n(i),c={components:{loading:function(e){a.e(11).then(function(){var t=[a("KgXo")];e.apply(null,t)}.bind(this)).catch(a.oe)},message:function(e){a.e(12).then(function(){var t=[a("AVWw")];e.apply(null,t)}.bind(this)).catch(a.oe)}},data:function(){return{loading:!1,messageStatus:!1,messageText:"",nav:1,line_style:"line_style_1",enuNum:"",packetNum:"",memo:""}},created:function(){},methods:{navCheck:function(e){this.nav=e,this.line_style="line_style_"+e,this.enuNum=3==e?1:"",this.packetNum="",this.memo=""},goBack:function(){window.history.go(-1)},sendTransaction:function(){var e=this;return o()(s.a.mark(function t(){var a,n,i,o,c,r,l,u,d,v,_,m,p,g,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.enuNum<.1)){t.next=4;break}e.$message.error(e.$t("RedMoneyMessage")),t.next=50;break;case 4:if(!(e.packetNum>1e3||""==e.packetNum)){t.next=8;break}e.$message.error(e.$t("RedNumMessage")),t.next=50;break;case 8:return e.loading=!0,t.next=11,e.chainApi.generateKeyPair();case 11:return a=t.sent,n=a.privateKey,i=a.publicKey,console.log("publicKey:",i),o=e.chainApi.cutKey(n),c=o.f,r=o.l,console.log(c,r),l=2==e.nav?2:1,console.log("type:",l),u=Date.now(),console.log("id:",u),d=new Number(e.packetNum),console.log("number:",d),""==(v=e.memo)&&(v="en"==localStorage.getItem("Lang")?"Best wishes!":"恭喜发财，大吉大利！"),_=l+"|"+u+"|"+d+"|"+v+"|"+i,console.log("memo:",_),m=new Number(e.enuNum),3==e.nav&&(m*=d),p=m.toFixed(4)+" YAS",console.log("asset:",p),t.next=35,e.chainApi.connectIdentity();case 35:return g=t.sent,t.prev=36,t.next=39,e.chainApi.sendEnvelope(g,p,_);case 39:h=t.sent,e.loading=!1,console.log(h),h.transaction_id&&(e.$message.success(e.$t("TranSuccess")),e.$router.push({path:"detail?id="+u+"&f="+c+"&l="+r})),t.next=50;break;case 45:t.prev=45,t.t0=t.catch(36),e.loading=!1,console.log(t.t0),e.$message.error(e.$t("TranFail"));case 50:case"end":return t.stop()}},t,e,[[36,45]])}))()}},computed:{}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"red_box"},[a("div",{staticClass:"red_nav"},[a("div",{staticClass:"red_nav_btn",on:{click:e.goBack}},[a("i",{staticClass:"el-icon-back"})]),e._v(" "),a("div",{staticClass:"red_nav_title"},[e._v(e._s(e.$t("Create Red Envelope")))]),e._v(" "),a("div",{staticClass:"red_nav_text"},[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"el-icon-s-home"})])],1)]),e._v(" "),a("div",{staticClass:"red_tab_box"},[a("div",{staticClass:"red_tab_item",class:1==e.nav?"red_tab_active":"",on:{click:function(t){return e.navCheck(1)}}},[e._v(e._s(e.$t("Fix Amount")))]),e._v(" "),a("div",{staticClass:"red_tab_item",class:2==e.nav?"red_tab_active":"",on:{click:function(t){return e.navCheck(2)}}},[e._v(e._s(e.$t("Random Amount")))]),e._v(" "),a("div",{staticClass:"red_tab_item",class:3==e.nav?"red_tab_active":"",on:{click:function(t){return e.navCheck(3)}}},[e._v(e._s(e.$t("Account Creation")))]),e._v(" "),a("div",{staticClass:"red_tab_line",class:e.line_style})]),e._v(" "),a("div",{staticClass:"red_content_box"},[3!=e.nav?[a("div",{staticClass:"red_content_item red_input"},[a("div",{staticClass:"red_content_input_text"},[e._v(e._s(e.$t("Total")))]),e._v(" "),a("div",{staticClass:"red_content_input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enuNum,expression:"enuNum"}],attrs:{type:"number",placeholder:e.$t("Min")},domProps:{value:e.enuNum},on:{input:function(t){t.target.composing||(e.enuNum=t.target.value)}}}),e._v(" "),a("span",[e._v("YAS")])])])]:[a("div",{staticClass:"red_content_item red_input"},[a("div",{staticClass:"red_content_input_text"},[e._v(e._s(e.$t("Amount")))]),e._v(" "),a("div",{staticClass:"red_content_input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enuNum,expression:"enuNum"}],attrs:{type:"number"},domProps:{value:e.enuNum},on:{input:function(t){t.target.composing||(e.enuNum=t.target.value)}}}),e._v(" "),a("span",[e._v("YAS")])])])],e._v(" "),a("div",{staticClass:"red_content_item red_input"},[a("div",{staticClass:"red_content_input_text"},[e._v(e._s(e.$t("Quantity")))]),e._v(" "),a("div",{staticClass:"red_content_input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.packetNum,expression:"packetNum"}],attrs:{type:"number",placeholder:e.$t("Max")},domProps:{value:e.packetNum},on:{input:function(t){t.target.composing||(e.packetNum=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"red_content_item red_textarea"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.memo,expression:"memo"}],attrs:{placeholder:e.$t("Best wishes")},domProps:{value:e.memo},on:{input:function(t){t.target.composing||(e.memo=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"red_warn_item"},[a("span",{attrs:{"data-v-4ed57b8a":""}},[e._v(e._s(e.$t("RedPacketMessage")))]),e._v(" "),a("router-link",{attrs:{to:"/redabout"}},[a("i",{staticClass:"el-icon-question",attrs:{"aria-hidden":"true"}})])],1),e._v(" "),a("div",{staticClass:"red_btn_item"},[a("button",{on:{click:e.sendTransaction}},[e._v(e._s(e.$t("Transfer YAS to Red Envelope")))])])],2),e._v(" "),a("div",{staticClass:"red_foot"},[a("small",[e._v(e._s(e.$t("RedPacketMessageOther")))])]),e._v(" "),a("loading",{attrs:{"loading-status":e.loading}}),e._v(" "),a("message",{attrs:{"message-status":e.messageStatus,"message-text":e.messageText}})],1)},staticRenderFns:[]};var l=a("VU/8")(c,r,!1,function(e){a("CXNw")},"data-v-7ddfd175",null);t.default=l.exports},CXNw:function(e,t){}});
//# sourceMappingURL=3.6e1e36f7b63ab0d086cb.js.map